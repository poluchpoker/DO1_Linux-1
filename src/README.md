# Операционные системы UNIX/LINUX *(Базовый).

## Part 1. Установка OC

+ ***Проверка версии Ubuntu***

  ![1](images/1.png)

## Part 2. Создание пользователя

+ ***Создание и добавление пользователя в adm***
  
  ![2](images/2.png)
---

+ ***Вывод содержимого файла по пути (/etc/passwd), новый пользователь на предпоследней строчке***
  
  ![3](images/3.png)

## Part 3. Настройка сети OC

+ ***Задаем имя машине и выводим его***
  
  ![4](images/4.png)
---

+ ***Изменение времени и установка соответствующему местоположению***
  
  ![5](images/5.png)

---

+ ***Информация о сетевых интерфейсах***
  
  ![6](images/6.png)
  
  ***lo (loopback device)*** - виртуальный сетевой интерфейс. Фактически является локальной петлей, она имеет IP-адрес 127.0.0.1. Ее предназначение состоит в том, чтобы иметь доступ к своему же устройству. Также имеет dns-имя - localhost.
---

+ ***Получение IP-адреса устройства от DHCP сервера***
  
  ![7](images/7.png)

  ***DHCP - Dynamic Host Configuration Protocol***
---
+ ***Получение внешнего IP-адреса шлюза***
  
  ![8](images/8.png)
---

+ ***Получение внутреннего(основного) IP-адреса шлюза***
  
  ![9](images/9.png)
---

+ ***Переписали файл /etc/netplan/02-networkd.yaml, после чего применили данные и произвели ребут***
  
  ![10](images/10.png)

  ![11](images/11.png)
---

+ ***После перезапуска данные совпадают с предыдущими***
  
  ![12](images/12.png) 
---
+  ***Успешная пропинговка удаленных хостов 1.1.1.1 и ya.ru***
  
   ![13](images/13.png)

## Part 4. Обновление OC

+ ***Обновление системы прошло успешно***
  
  ![14](images/14.png)

## Part 5. Использование команды **sudo**

+ ***Добавляем пользователя в группу с привилегиями sudo, после чего переключаемся на него и меняем hostname***
  
  ![15](images/15.png)

   ***sudo*** - позволяет выполнять задачи администрирования системы с максимальными правами.

## Part 6. Установка и настройка службы времени

+ ***Вывод команды с корректным временем***
  
  ![16](images/16.png)

## Part 7. Установка и использование текстовых редакторов

+ ***VIM*** Соответственно для сохранения и выхода из файла использовались **ESC** и команды **:wq**, а также название файла
  
  ![17](images/17.png)
---

+ ***NANO*** Для сохранения и выхода из файла для начала прожимаем **^O** - сохранение файла, после чего подтверждаем и прожимаем для выхода **^X**
   
  ![18](images/18.png)
---

+ ***JOE*** Сохранение и выход - ^KX, ввода имени файла и подтверждение
  
  ![19](images/19.png)
---

+ ***VIM*** Для выхода без сохранения: ***ESC > :q! > ENTER***
  
  ![20](images/20.png)
---

+ ***NANO*** Для выхода без сохранения: ***^X > N***
  
  ![21](images/21.png)
---

+ ***JOE*** Для выхода без сохранения: ***^C > Y***
  
  ![22](images/22.png)
---

+ ***VIM*** Для поиска используем ***/(что ищем)*** без скобок
  
  ![23](images/23.png)

+ ***VIM*** Для замены используем ***:s/(что ищем)/(на что заменяем)*** без скобок
  
  ![24](images/24.png)
---

+ ***NANO*** Для поиска используем ***^W > что ищем***
  
  ![25](images/25.png)

+ ***NANO*** Для замены используем ***^\ > что хотим заменить > чем хотим заменить > Y***
  
  ![26](images/26.png)
---

+ ***JOE*** Для поиска используем ***^K F > что ищем > I***
  
  ![27](images/27.png)

+ ***JOE*** Для замены используем ***^K F > что собираемся заменить > R > чем заменяем > Y***
  
  ![28](images/28.png)
  
## Part 8. Установка и настройка базового сервиса SSHD

+ ***Установка*** openssh-server
+ ***Запуск*** через команду sudo systemctl start ssh
+ ***Порт*** изменяется через ***sudo nano /etc/ssh/sshd_config***, меняем на 2022
+ ***Автозапуск*** через команду sudo systemctl enable ssh
+ ***Перезапуск системы*** ребутаем систему
+ ***Проверка*** через команду systemctl is-active ssh
+ ***Наличие процесса*** 
  
  ![29](images/29.png)
  
  ***ps*** - выводит сведения о процессах в статическом виде

  ***-e*** - все процессы
---

+ ***netstat -tan***
  
  ![30](images/30.png)

  ***-a*** - Отображает состояние сокетов (сокеты используемые серверными процессами обычно не отображаются)

  ***-n*** - Отображает сетевые адреса как числа, а не как символы

  ***-t*** - Отображает TCP подключения

  ***Proto*** - Тип протокола

  ***Recv-Q*** - Счетчик байтов не скопированных программой пользователя из этого сокета

  ***Send-Q*** - Счетик байтов, которые не подтверждены удаленнеым узлом

  ***Local Address*** - Адрес и номер порта локального конца сокета

  ***Foreign Address*** - Адрес и номер порта удаленного конца сокета 

  ***State*** - Состояние сокета

  ***LISTEN*** - Ожидание входящих подключений

  ***0.0.0.0*** - немаршрутизируемый адрес IPv4, который используется в качестве адреса по умолчанию или адреса-заполнителя
---

## Part 9. Установка и использование утилит **top**, **htop**

+ ***Uptume:*** 24 min
+ ***Users:*** 1
+ ***Load Avg:*** 0.00, 0.00, 0.00
+ ***Tasks:*** 119 total
+ ***%CPU(s):*** 0.0 us, 0.1 sy, 0.0 ni, 99.9 id, 0.0 wa, 0.0 hi, 0.0 si, 0.0 st
+ ***MiB Mem:*** 3919.5 total, 3372.1 free, 163.5 used, 383.9 buff/cache
+ ***PID MAX(MiB)*** 725
+ ***PID MAX(TIME+)*** 19
---

+ ***Сортировка по PID***
  
  ![31](images/31.png)

+ ***Сортировка по PERCENT_CPU***
  
  ![32](images/32.png)

+ ***Сортировка по PERCENT_MEM***
  
  ![33](images/33.png)

+ ***Сортировка по TIME***
  
  ![34](images/34.png)

+ ***Фильтрация для процесса sshd***
  
  ![35](images/35.png)

+ ***Поиск процесса syslog***
  
  ![36](images/36.png)

+ ***htop с добавленным выводом hostname, clock и uptime***
  
  ![37](images/37.png)

## Part 10. Использование утилиты **fdisk**

+ ***Disk /dev/sda, size = 8.82 GiB, 9448927744 bytes, 18454937 sectors***
  
  ![38](images/38.png)
  
## Part 11. Использование утилиты **df**

+ ***Единицы измерения в байтах***
  
  ![39](images/39.png)

+ ***Тип файловой системы для раздела - ext4***
  
  ![40](images/40.png)
  
## Part 12. Использование утилиты **du**

+ ***Использование команды du***
  
  ![41](images/41.png)

+ ***/home***
  
  ![42](images/42.png)

+ ***/var***
  
  ![43](images/43.png)

+ ***/var/log***
  
  ![44](images/44.png)

+ ***/var/log/****
  
  ![45](images/45.png)

## Part 13. Установка и использование утилиты ncdu

+ ***/home***
  
  ![46](images/46.png)

+ ***/var***
  
  ![47](images/47.png)

+ ***/var/log***
  
  ![48](images/48.png)

## Part 14. Работа с системными журналами

+ ***/var/log/dmesg***
  
  ![49](images/49.png)

+ ***/var/log/syslog***
  
  ![50](images/50.png)

+ ***/var/log/auth.log (время последней успешной авторизации 02:29:23, kleinera, через утилиту login)***
  
  ![51](images/51.png)

+ ***Перезапуск OpenSSH Server***
  
  ![52](images/52.png)

## Part 15. Использование планировщика заданий ***CRON***

+ ***uptime каждые 2 минуты***
  
  ![53](images/53.png)

+ ***Список текущих задач CRON***
  
  ![54](images/54.png)

+ ***Удаление задач и вывод списка***
  
  ![55](images/55.png)